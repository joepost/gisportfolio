---
title: "Interactive Maps"
---

## Spatial distribution of residential property prices, 1995 - 2019

This map visualises the spatial distribution of Lower Layer Super Output Areas (LSOA) median price paid deciles for residential property sold between 1995 and 2019, for the local authority district of Hackney, London.

Data is sourced entirely from API data services, including the [**Ordnance Survey (OS) Data Hub**](https://osdatahub.os.uk/), the [**HM Land Registry**](https://landregistry.data.gov.uk/app/root/doc/ppd), and the Office for National Statistics (ONS) [**Open Geography Portal**](https://geoportal.statistics.gov.uk/).


```{python}
import os
import fiona
import folium
import geopandas as gpd
import matplotlib as mpl
import matplotlib.pyplot as plt
from datetime import datetime
from folium.plugins import FloatImage
from mpl_toolkits.axes_grid1 import make_axes_locatable


# ======================================================================================
# Read in dataframes
gdf_build_lsoa_diss = gpd.read_file("data/gdf_build_lsoa_diss.geojson")
gdf_yg_merge_churn = gpd.read_file("data/gdf_yg_merge_churn.geojson")


# ======================================================================================
# Map interactively using folium

# Obtain current date-time
date = datetime.now()


# Create a folium basemap
m = gdf_build_lsoa_diss.explore(
        color='#a4a5a6',            # '#eaeaea',
        tiles="CartoDB positron",   # use "CartoDB positron" tiles
        attr='Contains OS data Â© Crown copyright and database right {}'.format(date.year),
        control_scale=False,        # remove scale (overlaps with OS logo)
        tooltip=False,              # deactivate tooltip for base map features
        style_kwds = {'stroke':False, 'fillOpacity':0.3},
        highlight=False             # deactivate highlighting for base map features
    )

gdf_yg_merge_churn.explore(
    m=m,
    column="decile_change",     # make choropleth based on column name
    highlight=True,
    highlight_kwds={'stroke':True, 'fillOpacity':1},    # specifies the formatting of highlighted features
    tooltip='decile_change',
    style_kwds = {'stroke':False, 'fillOpacity':0.7}
)

# OS logo image
logo_url = 'https://labs.os.uk/public/os-api-branding/v0.1.0/img/os-logo-maps.svg'
# Folium FloatImage plugin for displaying an image on the map
float_image = FloatImage(logo_url, bottom=1, left=1)
# Add OS logo image to map
float_image.add_to(m)

# Return map object
m

```

